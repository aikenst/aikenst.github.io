# Chapter 4.2 スライス型

参照する際の特殊な方法として**スライス**というものがあります。スライスはコレクション(文字列など)全体だけではなく、その中の一連の要素だけを参照することもできます。

文字列に対するスライスを文字列スライスと言います。
```rust
fn main(){
    let s = String::from("hello world");

    let t1 = &s[0..5];
    let t2 = &s[6..11];

    println!("t1の値{} t2の値{}",t1,t2);
}
```
文字列の一部を参照する際にはこれまで通りの`&s`とレンジのような書き方をして範囲を指定しています。基本的にレンジの時と同様にある値以上からある値未満までという範囲指定の仕方です。[4.1. 所有権](./chapter_4_1.md)にある図のヒープ上のデータに対応するindex(添字)を指定しています。空白も一文字扱いです。スライスのデータ構造は開始地点へのポインタとスライスの長さ(ptrとlen)を保持しています。

<br>

スライスの範囲の指定する際にコレクションの最初や最後を指定する際には省略した書き方ができます。
```rust
fn main(){
    let s = String::from("hello world");

    let t1 = &s[..5];//最初を省略
    let t2 = &s[6..];//最後を省略
    let t3 = &s[..];//最初と最後を省略
    println!("t1の値{} t2の値{} t3の値{}",t1,t2,t3);
}
```

スライスは引数や戻り値でも使うことができます。その際の型は`&str`と書きます。
```rust
fn main(){
    let s = String::from("hello world");
    
    let t1 = len(&s[0..5]); //文字列の一部を参照
    
    println!("t1の長さは{}",t1);

    let t2 = len(&s[..]); //文字列全体を参照

    println!("t2の長さは{}",t2);
}

fn len(l: &str) -> usize{ //スライスは全体でも一部でも受け取ることができる
    l.len()
}
```
関数の受け取り方に注目してください。このようにすることでスライスを受け取ることができます。さらに`&str`で受け取ることで`&String`型も文字列全体のスライスを渡すことで受け取ることができます。

文字列リテラルもスライスになります。
```rust
fn main(){
    let s ="hello world";

    let t1= len(&s);

    
    println!("sの長さは{}",t1);
}

fn len(l: &str)->usize{
    l.len()
}
```
`len`関数の引数の型を`&String`にすると型が一致しないエラーになります。

文字列スライス以外にも配列のスライスなどが存在します。
```rust
fn main(){
    let a = [1,2,3,4,5];
    let s1 = &a[1..3];

    println!("{}",s1.len());
}
```
このように配列の一部を参照することができます。この時の型は`&[i32]`という型になります。