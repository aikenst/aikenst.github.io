# Chapter 3.1 条件式

条件式とは条件が真(true)か偽(false)によって実行するコードを決めるものです。

### if式
if式を使うことによって条件に応じて実行するコードを変えることができます。
```rust
fn main(){
    let num = 3;

    if num > 7 {
        println!("numの値{}は7より大きい",num);
    } else {
        println!("numの値{}は7より小さい",num);
    }
}
```
このコードを実行してみましょう。基本的な使い方は`if 条件式 {} else {}`という形になります。`else`の方には条件を満たさない時に実行されるコードを書きます。{}の部分の中身は書かなくても大丈夫です。つまり、この条件を満たさない時には何もしないということもできます。その時は`else`以降を省略することもできます。条件式はちゃんと論理値が返されるものにしましょう。数字などを書くとエラーになってしまいます。

変数を定義する時にもif式を使うことができます。
```rust
fn main(){
    let x = 3;
    let y = 5;
    let i;

    if x < y {
        i = true;
    }else{
        i = false;
    }

    let num = if i {1} else {2};

    println!("numの値は{}",num);
}
```
この`if`式を使用した変数定義の時はtrueの時の値とfalseの時の値の型は同じでなければなりません。

またこの`if`と`else`を組み合わせることで複数の条件を判断させることができます。

```rust
fn main(){
    let num = 10;

    if (num / 3) == 0 {
        println!("numの値{}は3の倍数",num);
    } else if (num / 5) = 0 {
        println!("numの値{}は5の倍数",num);
    }else{
        println!("numの値{}は15の倍数でない",num);
    }
}
```
一つ目の条件を満たさないため二つ目の条件が判断され条件を満たすため`println!("numの値{}は5の倍数",num);`が実行されます。そしてどこかで条件を満たしたらそれ以降のコードは条件を満たしていても実行しません。

上記のコードのようにif式が続くと見づらくなってしまいます。このような時には`match`式が有効です。
```rust
fn main(){
    let num = 3;

    match num{
        1 => println!("numの値は1"), //最後がカンマ(,)なのに注意
        2 => println!("numの値は2"),
        3 => println!("numの値は3"),
        4 => println!("numの値は4"),
        _ => println!("numの値は1-4ではありません"),
    }
}
```
`match`式は`if`式と似たような動きをします。`match 変数名`と書き、変数と下の条件を比較します。そして条件に一致するものの文を実行します。今回の場合は`num`の値が3なので`3 => println!("numの値は3"),`に一致します。また一番最後に使われているアンダースコア(_)は**ワイルドカード**といいどんな値にも一致するものです。これを使う理由としてmatch式は**必ずどれかに当てはまる**必要があります。どれにも当てはまらない場合はエラーになってしまいます。なのでエラー回避のためにもワイルドカードを使用しています。

<br>

また`match`式の条件式の部分を上記のものと変えてみようと思います。
```rust
fn main(){
    let num = 15;

    match num % 7 {
        1 | 2 => println!("numを7で割ったあまりは1か2"),
        5 => pri(),
        _ => {},

    }
}

fn pri(){
    println!("numを7で割ったあまりは5")
}
```
判断するものの値を`num % 7`のように計算した値に対してパターンマッチを使うことができます。

パターンのところに`|`を使いどちらかに当てはまる場合のような指定方法もあります。

実行するものところには関数の呼び出し( `pri()`のこと)や値の変更、`{};`のように書くことで何も実行しないというようなこともできます。

なのでmatch式は余りの計算など一個の条件に対して複数の通りが考えられるものに対して有効です。

### 問題　

三つの値を比較して最大値を表示してください。(変数の値は自分で設定してください)
```rust,editable
fn main(){

}
```
答えは下記のようになります。![表示](../img/%E8%A1%A8%E7%A4%BA.png)を押して確認しましょう。
```rust
# fn main(){
#   let a = 50;
#   let b = 40;
#   let c = 100;
#   let mut max = a;  
#   
#   if b >= max {
#       max = b;    
#   }
# 
#   if c >= max {
#       max = c;
#   }
#   println!("最大の値は{}",max);
# }



```

三つの整数値を比較し「すべて同じ値」「二つが同じ値」「すべて違う値」を判断するプログラムを作成しましょう。
```rust,editable
fn main(){

}
```
答えは下記のようになります。![表示](../img/%E8%A1%A8%E7%A4%BA.png)を押して確認しましょう。
```rust
fn main(){
#    let a = 131;
#    let b = 142;
#    let c = 131;

#    if (a == b && b == c ){
#        println!("すべて同じ値");
#    }else if (a == b || a == c || b == c){
#        println!("二つが同じ値");
#    }else{
#        println!("すべて違う値");
#    }

}
```