# chapter 7.1 パッケージとクレート

クレートとはバイナリクレートとライブラリクレートの二つがあります。バイナリクレートは今まで書いてきたコードのようなそのまま実行できるものという感じでいいと思います。

![プロジェクト作成](./%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E4%BD%9C%E6%88%90.png)

今まで書いてきたコードは自分のPC上で書くときは最後の行の`main.rs`というファイルに書きます。なのでこの`main.rs`が実行可能ファイル(バイナリクレート)になります。これはRustのコンパイラの開始地点になり、これを**クレートルート**と呼ばれます。ライブラリクレートのクレートルートは`lib.rs`です。

そしてパッケージはある機能群を提供する1つ以上のクレートです。そしてパッケージはそれらのクレートをどのようにビルドするかを説明するファイル`Cargo.toml`を持っています。パッケージはバイナリクレートかライブラリクレートを1つ以上持ちます。またライブラリクレートは1つまで、バイナリクレートはいくつでもという数の制限があります。

また`src`というディレクトリの下に`lib.rs`が含まれていたらこれがライブラリクレートになります。ライブラリクレートは汎用性の高い複数のコードまとめたものでこのクレートだけでは実行はできないので実行可能ファイルが必要になります。

<br>

複数のバイナリクレートを持つためには`src`ディレクトリの下に`bin`ディレクトリを作りそこにファイルを置くことで複数のバイナリクレートを持つことができます。

クレートは関連した機能を一つのスコープにまとめることでその機能が複数のプロジェクト間で共有しやすいようにします。あるクレートを自分のプロジェクトのスコープに持ち込むことでそのクレート内の機能を使うことができます。またクレートの機能を自分のプロジェクトの中に入れたままにしておくことで名前の衝突を防ぐことができます。例えば、乱数に関連する`rand`クレートの中に`Rng`というものがあります。これと同じ名前の構造体`Rng`を作ったとします。この時、コンパイラはちゃんと自分のクレートの内の構造体は`struct Rng`であり、`rand`クレートのものには`rand::Rng`でアクセスするというように混乱しないようになるのです。

